using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Looky : MonoBehaviour
{
    public GameObject lookTarget; // Declare the look target variable
    public GameObject capsule; // Declare the capsule variable

    float yaw = 0.0f;
    float pitch = 0.0f;

    public float sensitivity = 15f;

    void Start()
    {
        // Initialize the look target and capsule variables
        lookTarget = GameObject.Find("lookTarget");
        capsule = GameObject.Find("Player");
    }

    void Update()
    {
        // yaw and pitch get linked to mouse movement
        yaw += Input.GetAxis("Mouse X");
        pitch -= Input.GetAxis("Mouse Y");

        // Clamp pitch to restrict Y movement
        pitch = Mathf.Clamp(pitch, -90.0f, 90.0f);

        // Apply yaw and pitch to the camera's rotation
        transform.rotation = Quaternion.Euler(pitch, yaw, 0.0f);

        // Rotate the look target object
        lookTarget.transform.rotation = Quaternion.Euler(pitch, yaw, 0.0f);

        // Apply the yaw value to the capsule's Y axis
        capsule.transform.rotation = Quaternion.Euler(0.0f, yaw, 0.0f);
    }
}
